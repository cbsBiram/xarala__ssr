{% extends 'base.html' %}
{% load static %}

{% block title %}
Liste des articles de {{ category }}
{% endblock %}


{% block banner %}

{% endblock %}

{% block content %}
<section class="blog-posts">

  <div class="section-padding">
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <h4 class="title text-center">Liste des articles de : {{ tag }}</h4>
          {% if posts %}

          {% for post in posts %}

          <article class="post type-post format-standard">
            <div class="entry-thumbnail radius"><img src="{{ post.image.url }}" alt="Post Thumbnail"></div>
            <!-- /.entry-thumbnail -->
            <div class="entry-content media">
              <div class="post-date">
                <time datetime="{{ post.date_created|date:'m-d-Y' }}"><span
                    class="date">{{ post.date_created|date:"d" }}</span> {{ post.date_created|date:"F" }}</time>
              </div><!-- /.post-date -->

              <div class="content-details media-body">
                <h3 class="entry-title"><a href="{% url 'blog-detail' post.slug %}">{{ post.title }}</a></h3>
                <!-- /.entry-title -->
                <div class="entry-meta">
                  <span class="author"><i class="icon-user"></i> <a href="#">{{ post.author.get_full_name }}</a></span>
                  <!-- /.author -->
                  <span class="tag"><i class="icon-tag"></i> <a
                      href="#">{{ post.tags.first|default_if_none:"" }}</a></span><!-- /.tag -->
                  <!--<span class="comments"><i class="icon-bubbles"></i> <a href="#">13 comments</a></span>-- /.tag -->
                </div><!-- /.entry-meta -->

                <p>
                  {{ post.content|safe|truncatewords:50 }}
                </p>


                <a href="{% url 'blog-detail' post.slug %}" class="btn btn-lg">Voir plus</a>
              </div><!-- /.content-details -->
            </div><!-- /.entry-content -->
          </article><!-- /.post -->
          {% endfor %}


          {% else %}

          <p class="text-center alert alert-info">Ooops!, pas d'artilce pour le moment!</p>

          {% endif %}

          <nav aria-label="Page navigation example">
            {% if is_paginated %}
            <ul class="pagination">
              {% if page_obj.has_previous %}
              <li class="page-item"><a class="page-link" href="?page={{page_obj.previous_page_number}}">&laquo;</a></li>
              {% else %}
              <li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
              {% endif %}
              {% for i in paginator.page_range %}
              {% if page_obj.number == i %}
              <li class="page-item"><a class="page-link active">{{ i }}</a></li>
              {% else %}
              <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
              {% endif %}
              {% endfor %}
              {% if page_obj.has_next %}
              <li class="page-item">
                <a href="?page={{page_obj.next_page_number}}" class="page-link">&raquo;</a>
              </li>
              {% else %}
              <li class="page-item disabled">
                <a class="page-link">&raquo;</a>
              </li>
              {% endif %}
            </ul>
            {% endif %}
          </nav>

        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}